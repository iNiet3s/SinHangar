<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<head>
    <title>Game Maker Tutorial</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr style="background-color: #3a7c3f">
	  <td style="height: 22px"><img src="bar.png"></td>
	</tr>
	<tr style="background-color: #ffffff">
	<td style="width: 220px" valign="top">
	
	<div class="bodyText"><i>Page 6 of 13</i></div>
	<div class="header">The Main Plane</div></div>
	
	<div class="bodyText">

Now that the scrolling background is ready it is time to make the plane that the player will control. This is actually rather easy. First of all we need a sprite for the plane. We will use a propeller plane. To give the propellers the illusion of rotating we use a sprite consisting of three images that are exactly the same except for the propellers (this image can be found as <b>myplane_strip3</b> in the appropriate Tutorials folder where <i>Game Maker</i> was installed):
</div>

<center><img src="myplane_strip3.png"></center>
<br />

<div class="bodyText">
Such animated sprites can be found in files that end with <b>_stripXX</b>, where <b>XX</b> indicates the number of subimages.
<br /><br /> 
When creating this sprite we do one important thing. We set the <b>X</b> and <b>Y</b> of the <b>Origin</b> to 32. This means that the origin of the sprite is the centre of the plane. So whenever we later set the plane at a position or test the position, we mean the position of the centre of the plane, not the top-left point, which is normally used as the origin. This is important to make sure that for example bullets come from the centre of the plane, not from the left side.
<br /><br />  
Next we add the object <b>obj_myplane</b>. As sprite we choose the plane sprite we just created. We give it a depth of –100 to make sure that it lies above bullets, etc. that we will create later. (Dealing with the depth property in an effective way is very important for many games. So you better understand how to use this.) 
For the moment we only need to specify the motion of the plane.
<br /><br /> 
When the player does nothing, the plane will not move. (Remember, the background moves, not the plane.) If the player presses one of the four arrow keys the plane should move in the appropriate direction. Our main concern is to avoid that the plane moves outside the room. To this end we will control the motion ourselves, rather than give the plane a speed. This is done as follows. 
<br /><br /> 
Let us look at the motion for the left arrow key. Add the keyboard event for the <Left> key. We first need to check that we are not too far to the left. So we use the action to check whether the variable x is larger than 40, similar to the way we checked the y-coordinate of the islands above. If this check returns true we want to move the plane a small distance to the left relative to its current position.
<br /><br /> 
For this we use the “jump to a position” action to move relative –4 for x and 0 for y. Don't forget to check the box labeled <b>Relative</b>. For the right arrow we do a similar thing. We check whether <b>x</b> is smaller than <b>room_width-40</b> and, if so, jump relative to an x of 4 and y of 0. Similar for the vertical motion, but this time we move only with a speed of –2 and 2. (Remember, we should never move faster backwards than the background is scrolling.)
<br /><br /> 
Also, don’t forget that the positive y-direction is downwards. So to move upwards we must subtract 2 from the y-position. At the bottom of the screen we keep a larger margin of 120. This will be used later to place a panel with some game information.
<br /><br /> 
Our plane can fly now. Place one instance of the plane in the room and run the game. You should get the illusion of flying above the sea.

	</div>

	
	</td>
	</tr>
</table>
</body>
</html>
